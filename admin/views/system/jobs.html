<div xmlns="http://www.w3.org/1999/xhtml" xmlns:sdb="http://santedb.org/applet">
    <sdb:script static="false">~/controllers/server/jobs.js</sdb:script>
    <sdb:state name="santedb-admin.system.jobs">
        <sdb:demand>1.3.6.1.4.1.33349.3.1.5.9.2.0</sdb:demand>
         <sdb:url>/jobs</sdb:url>
        <sdb:view>
            <sdb:title lang="en">Jobs</sdb:title>
            <sdb:controller>JobAdminController</sdb:controller>
        </sdb:view>
    </sdb:state>

    <entity-table
        type="JobInfo"
        search-field="name"
        i18n-prefix="'ui.model.job.'"
        properties="[ 'name', 'tag', 'state', 'lastRun' ]"
        render="{ state: 'renderState', lastRun: 'renderLastRun' }"
        item-actions="[ { name: 'run', action: 'runJob', demand: '1.3.6.1.4.1.33349.3.1.5.9.2.0', className: 'btn-primary', icon: 'fa fa-play', when : 'r.state != \'Running\'' }, { name: 'cancel', action: 'cancelJob', demand: '1.3.6.1.4.1.33349.3.1.5.9.2.0', className: 'btn-danger', icon: 'fa fa-stop', when : 'r.canCancel &amp;&amp; r.state == \'Running\'' } ]">
    </entity-table>
</div>