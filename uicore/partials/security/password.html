<div xmlns="http://www.w3.org/1999/xhtml" class="container-fluid">
    <div class="row">
        <div class="col-md-12">{{ 'ui.password.help' | i18n }} - {{ password.entity.userName }}</div>
    </div>
    <div class="form-group row" ng-if="$root.session.user.userName == password.entity.userName">
        <label for="existingPassword" class="col-sm-3 control-label">{{ 'ui.password.existing.label' | i18n }}</label>
        <div class="col-sm-9">
            <input type="password" name="existingPassword" ng-model="password.entity.existingPassword"
                class="form-control"
                ng-class="{'is-invalid': passwordForm.existingPassword.$invalid &amp;&amp; passwordForm.$submitted}"
                required="required" />
            <div ng-show="passwordForm.existingPassword.$invalid &amp;&amp; passwordForm.$submitted"
                class="alert-danger">
                <i class="fa fa-exclamation-triangle"></i> {{ 'ui.error.required' | i18n }}
            </div>
        </div>
    </div>
    <div class="form-group row">
        <label for="newPassword" class="col-sm-3 control-label">{{ 'ui.password.new.label' | i18n }}</label>
        <div class="col-sm-9">
            <input type="password" name="newPassword" ng-model="password.entity.password" class="form-control"
                required="required" pattern="[A-Za-z0-9@!#\$\%\^\&amp;\*\(\)\~\`\,\.\?\/\;\'\[\]\{\}\s_]+"
                ng-class="{'is-invalid': passwordForm.newPassword.$invalid &amp;&amp; passwordForm.$submitted}"
                ng-change="passwordForm.newPassword.$error['err.password'] ? passwordForm.newPassword.$error['err.password']=false : null" />
            <div ng-show="passwordForm.newPassword.$error['required'] &amp;&amp; passwordForm.$submitted" class="alert-danger">
                <i class="fa fa-exclamation-triangle"></i> {{ 'ui.error.required' | i18n }}
            </div>
            <div ng-show="passwordForm.newPassword.$error['err.password'] &amp;&amp; passwordForm.$submitted" class="alert-danger">
                <i class="fa fa-exclamation-triangle"></i> {{ 'ui.password.complexity' | i18n }}
            </div>
        </div>
    </div>
    <div class="form-group row">
        <label for="confirmPassword" class="col-sm-3 control-label">{{ 'ui.password.confirm.label' | i18n }}</label>
        <div class="col-sm-9">
            <input type="password" name="confirmPassword" ng-model="password.entity.confirmPassword"
                class="form-control" required="required" ng-pattern="password.entity.password"
                ng-class="{'is-invalid': passwordForm.confirmPassword.$invalid &amp;&amp; passwordForm.$submitted}" />
            <div ng-show="passwordForm.confirmPassword.$error['required'] &amp;&amp; passwordForm.$submitted"
                class="alert-danger">
                <i class="fa fa-exclamation-triangle"></i> {{ 'ui.error.required' | i18n }}
            </div>
            <div ng-show="passwordForm.confirmPassword.$error['pattern']" class="alert-danger">
                <i class="fa fa-exclamation-triangle"></i> {{ 'ui.password.error.mismatch' | i18n }}
            </div>
        </div>
    </div>
    <div class="row" ng-if="password.entity.password">
        <label class="col-sm-3 control-label">
            {{ 'ui.password.strength.label' | i18n }}
        </label>
        <div class="col-sm-6 align-middle">
            <div class="container-fluid">
                <div class="row  border">
                    <i class="col-md-2 text-center text-danger fas fa-square" ng-if="strength >= 0"></i> 
                    <i class="col-md-2 text-center text-danger fas fa-square" ng-if="strength >= 1"></i>
                    <i class="col-md-2 text-center text-warning fas fa-square" ng-if="strength >= 2"></i>
                    <i class="col-md-2 text-center text-warning fas fa-square" ng-if="strength >= 3"></i>
                    <i class="col-md-2 text-center text-success fas fa-square"  ng-if="strength >= 4"></i>
                    <i class="col-md-2 text-center text-success fas fa-square"  ng-if="strength >= 5"></i>
                </div>
            </div>
        </div>
        <div class="col-sm-3">
            <span ng-switch="strength">
                <span ng-switch-when="0">{{ 'ui.password.strength.lowlow' | i18n }}</span>
                <span ng-switch-when="1">{{ 'ui.password.strength.low' | i18n }}</span>
                <span ng-switch-when="2">{{ 'ui.password.strength.moderate' | i18n }}</span>
                <span ng-switch-when="3">{{ 'ui.password.strength.moderate' | i18n }}</span>
                <span ng-switch-when="4">{{ 'ui.password.strength.high' | i18n }}</span>
                <span ng-switch-when="5">{{ 'ui.password.strength.highhigh' | i18n }}</span>
            </span>

        </div>
    </div>
</div>