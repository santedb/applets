<!--
 - Copyright 2015-2019 Mohawk College of Applied Arts and Technology
 -
 - 
 - Licensed under the Apache License, Version 2.0 (the "License"); you 
 - may not use this file except in compliance with the License. You may 
 - obtain a copy of the License at 
 - 
 - http://www.apache.org/licenses/LICENSE-2.0 
 - 
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 - WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the 
 - License for the specific language governing permissions and limitations under 
 - the License.
 - 
 - User: Justin Fyfe
 - Date: 2019-9-6
 -->
<div xmlns="http://www.w3.org/1999/xhtml">
    <div class="alert alert-info" ng-if="unsaved">
        <i class="fas fa-info-circle"></i> {{ 'ui.common.unsavedChanges' | i18n }}
    </div>
    <table class="table table-striped" style="width:100%">
        <thead>
            <tr>
                <th>{{ 'ui.model.securityPolicyInstance.policy' | i18n }}</th>
                <th>{{ 'ui.model.securityPolicyInstance.grant' | i18n }}</th>
                <th></th>
            </tr>
        </thead>
        
    </table>
    <div id="addPolicy" class="mb-3">
            <div class="d-flex align-items-baseline justify-content-start">
                    <span class="mr-2 me-2 font-weight-bold">{{ 'ui.action.add' | i18n }}</span> 
            <entity-search 
                placeholder="{{ 'ui.model.securityPolicyInstance.search' | i18n }}" 
                type="'SecurityPolicy'" 
                class="form-control me-2 mr-2" 
                style="width:75%" 
                search-field="'name'"
                ng-model="newPolicy.id"
                filter="{ obsoletionTime: 'null' }"/>
                <button type="button" class="btn btn-primary mx-2 align-self-center" ng-disabled="!newPolicy || newPolicy.exec"
                    ng-click="addPolicy()"><i class="fas" ng-class="{'fa-plus-circle': !newPolicy.exec, 'fa-circle-notch fa-spin': newPolicy.exec }"></i> <span class="sr-only">{{ 'ui.action.add' | i18n }}</span></button>
                </div>
       
    </div>
</div>