<!--
 - Copyright 2021-2024 SanteSuite Contributors (See NOTICE.md for full copyright notices)
 - Copyright (C) 2019 - 2021, Fyfe Software Inc. and the SanteSuite Contributors
 - Portions Copyright (C) 2015-2018 Mohawk College of Applied Arts and Technology
 - 
 - Licensed under the Apache License, Version 2.0 (the "License"); you 
 - may not use this file except in compliance with the License. You may 
 - obtain a copy of the License at 
 - 
 - http://www.apache.org/licenses/LICENSE-2.0 
 - 
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 - WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the 
 - License for the specific language governing permissions and limitations under 
 - the License.
 - 
 - User: fyfej
 - Date: 2023-5-19
 -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:oiz="http://openiz.org/applet" ng-app="santedb">

<head>
    <title>{{ 'ui.title' | i18n }}</title>
    <!-- Main CSS Files & Themes -->
    <link rel="stylesheet" type="text/css" href="~/css/fontawesome.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/fa-solid.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/fa-regular.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/select2.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/toastr.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/fullcalendar.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/bootstrap-tokenfield.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/toastr.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/pageloader.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/datatables.min.css" />
    <!-- Do not style datatables buttons - use bootstrap for that <link rel="stylesheet" type="text/css" href="~/css/datatables.buttons.min.css" />-->
    <link rel="stylesheet" type="text/css" href="~/css/theme.css" />
    <!-- Libraries -->
    <script src="/org.santedb.core/lib/jquery.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="/org.santedb.core/lib/jquery.datefix.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="/org.santedb.core/lib/angular.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="/org.santedb.core/lib/angular-sanitize.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="/org.santedb.core/lib/angular-route.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/angular-ui-router.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/ocLazyLoad.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="/org.santedb.core/js/santedb-model.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="/org.santedb.core/js/santedb.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="/org.santedb.core/js/santedb-cdss.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="/org.santedb.core/js/utilfunc.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>

    <!-- Core stuff for detection -->
    <script src="/app/routes.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/js/santedb-ng.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/js/santedb-ng-factory.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/controllers/index.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>


    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
</head>

<body ng-controller="RootIndexController">

    <!-- Page Transitioner -->
    <div id="pageTransitioner" class="pageloader">
        <div class="cssload-loader">
            <div class="spinner">
                <div class="dot1"></div>
                <div class="dot2"></div>
            </div>
        </div>
    </div>

    <script src="~/js/santedb-ng-services.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/js/santedb-ng-filters.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/js/santedb-ng-directives.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/js/santedb-ng-widget.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>

    <ui-view>
    </ui-view>

    <!-- #include virtual="~/views/dialogs/login.partial.html" -->
    <!-- #include virtual="~/views/dialogs/error.partial.html" -->
    <!-- #include virtual="~/views/dialogs/wait.html" -->

    <!-- Scripts after UI -->
    <script src="~/js/santedb-ui.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>

    <!-- Angular Routes - Provided by the host-->
    <script src="/org.santedb.core/js/santedb-bre.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/popper.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/bootstrap.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/select2.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/randexp.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="/org.santedb.core/lib/cookiejs.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="/org.santedb.core/lib/moment.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/datatables.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/chartjs.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/datatables.buttons.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/select2-extended-ajax.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/toastr.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/controllers/security/login.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/js/santedb-elevator.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>
    <script src="~/lib/bootstrap-tokenfield.min.js" nonce="{{ $csp_nonce }}" type="text/javascript"></script>

    
    <noscript>
            <div class="alert text-danger" ng-if="!asyncAvailable" style="z-index: 10000">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true"><i class="fas fa-times fa-fw"></i></span>
                    </button>
                    <h4 class="alert-heading">
                        <i class="fas fa-exclamation-triangle"></i> {{ 'error.noScript.title' | i18n }}
                    </h4>
                    <hr />
            
                    <p class="mb-0">{{ 'error.noScript.text' | i18n }} </p>
                </div>
    </noscript>
    <div class="alert alert-warning d-none" id="noArrowFunc"  style="z-index: 10000">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true"><i class="fas fa-times fa-fw"></i></span>
        </button>
        <h4 class="alert-heading">
            <i class="fas fa-exclamation-triangle"></i> {{ 'error.invalidBrowser.title' | i18n }}
        </h4>
        <hr />

        <p class="mb-0">{{ 'error.invalidBrowser.text' | i18n }} </p>
    </div>
    <script type="text/javascript" nonce="{{ $csp_nonce }}">
    //<![CDATA[    
        try {
            eval('async () => { }');
        }
        catch(e) {
            if(e instanceof SyntaxError) {
                $("#noArrowFunc").removeClass("d-none");
            }
        }
            //]]>
    </script>
</body>

</html>